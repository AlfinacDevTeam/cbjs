<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Markdown to Text</title>
</head>
<body>
<textarea id="mdInput" rows="6" cols="50"># Xin chào\nĐây là **đoạn văn**ssssss</textarea>
<pre id="output"></pre>

<script>
    function removeMarkdown(md) {
        return md
            .replace(/!\[.*?\]\(.*?\)/g, '')      // remove images
            .replace(/\[.*?\]\(.*?\)/g, '')       // remove links
            .replace(/[`*_>#-]+/g, '')            // remove markdown syntax
            .replace(/\n{2,}/g, '\n\n')           // clean spacing
            .trim();
    }

    const textarea = document.getElementById("mdInput");
    const output = document.getElementById("output");

    textarea.addEventListener("input", () => {
        let text = textarea.value;
        text = text.replace(/\\n/g, '\n'); // chuyển \n thành dòng mới thật
        output.textContent = removeMarkdown(text);
    });

    // Trigger ban đầu
    textarea.dispatchEvent(new Event('input'));
</script>
</body>
</html>
